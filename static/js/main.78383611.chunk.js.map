{"version":3,"sources":["components/imageGalleryItem/styles.module.css","components/modal/styles.module.css","components/imageGallery/styles.module.css","components/button/styles.module.css","components/searchbar/Searchbar.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/imageGallery/ImageGallery.jsx","components/button/Button.jsx","components/modal/Modal.jsx","components/app/App.jsx","index.js","components/searchbar/styles.module.css","components/app/styles.module.css"],"names":["module","exports","Searchbar","state","tag","handleChange","ev","setState","target","name","value","this","className","style","SearchForm","form","type","SearchForm_button","onClick","props","onSubmit","SearchForm_button_label","onChange","SearchForm_input","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","picture","alter","src","alt","ImageGalleryItem_image","ImageGallery","picListRef","createRef","prevProps","prevState","listRef","current","picturesList","scrollTop","scrollHeight","modalView","ref","map","pic","webformatURL","tags","key","id","Button","onNextPictures","Modal","backdropRef","handleBackClose","onClose","handleCloseModal","code","window","addEventListener","removeEventListener","length","Overlay","axios","require","mapper","response","data","hits","largeImageURL","App","pictures","search","modalWindowPicture","page","isLoading","request","get","then","catch","console","log","finally","handleClose","openModalWindow","handleNextPictures","handleSubmit","loaderStyles","color","height","width","timeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.78383611.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"styles_ImageGalleryItem__19nu4\",\"ImageGalleryItem_image\":\"styles_ImageGalleryItem_image__uyFOF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"styles_Overlay__1MXJO\",\"Modal\":\"styles_Modal__y6TXw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"styles_ImageGallery__3kE_I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"styles_Button__3W2pP\"};","import React, { Component } from \"react\";\r\nimport style from \"./styles.module.css\";\r\n\r\nexport class Searchbar extends Component {\r\n  state = {\r\n    tag: \"\"\r\n  };\r\n  handleChange = ev => this.setState({ [ev.target.name]: ev.target.value });\r\n  render() {\r\n    const { tag } = this.state;\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form className={style.SearchForm} form=\"search\">\r\n          <button\r\n            form=\"search\"\r\n            type=\"submit\"\r\n            value={this.state.tag}\r\n            className={style.SearchForm_button}\r\n            onClick={this.props.onSubmit}\r\n          >\r\n            <span className={style.SearchForm_button_label}></span>\r\n          </button>\r\n\r\n          <input\r\n            form=\"search\"\r\n            value={tag}\r\n            name=\"tag\"\r\n            onChange={this.handleChange}\r\n            // on={this.props.onSubmit}\r\n            className={style.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport style from \"./styles.module.css\";\r\nconst ImageGalleryItem = ({ picture, alter }) => {\r\n  return (\r\n    <li className={style.ImageGalleryItem}>\r\n      <img src={picture} alt={alter} className={style.ImageGalleryItem_image} />\r\n    </li>\r\n  );\r\n};\r\nexport default ImageGalleryItem;\r\n","import React, { Component, createRef } from \"react\";\r\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\r\nimport style from \"./styles.module.css\";\r\n\r\nclass ImageGallery extends Component {\r\n  picListRef = createRef();\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const listRef = this.picListRef.current;\r\n    if (prevProps.picturesList !== this.props.picturesList) {\r\n      listRef.scrollTop = listRef.scrollHeight;\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <main>\r\n        <ul\r\n          className={style.ImageGallery}\r\n          onClick={this.props.modalView}\r\n          ref={this.picListRef}\r\n        >\r\n          {this.props.picturesList.map(pic => (\r\n            <ImageGalleryItem\r\n              picture={pic.webformatURL}\r\n              alter={pic.tags}\r\n              key={pic.id}\r\n            ></ImageGalleryItem>\r\n          ))}\r\n        </ul>\r\n      </main>\r\n    );\r\n  }\r\n}\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport style from \"./styles.module.css\";\r\nconst Button = ({ onNextPictures }) => {\r\n  return (\r\n    <footer>\r\n      <button\r\n        className={style.Button}\r\n        type=\"button\"\r\n        name=\"Load more\"\r\n        onClick={onNextPictures}\r\n      >\r\n        Load more\r\n      </button>\r\n    </footer>\r\n  );\r\n};\r\nexport default Button;\r\n","import React, { Component, createRef } from \"react\";\r\nimport style from \"./styles.module.css\";\r\n\r\nclass Modal extends Component {\r\n  backdropRef = createRef();\r\n  handleBackClose = ev => {\r\n    const { current } = this.backdropRef;\r\n    if (current && ev.target !== current) {\r\n      return;\r\n    }\r\n    this.props.onClose();\r\n  };\r\n  handleCloseModal = ev => {\r\n    if (ev.code !== \"Escape\") {\r\n      return;\r\n    }\r\n    this.props.onClose();\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleCloseModal);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleCloseModal);\r\n  }\r\n  render() {\r\n    const [src, alt] = this.props.picture;\r\n    return (\r\n      this.props.picture.length !== 0 && (\r\n        <div\r\n          className={style.Overlay}\r\n          ref={this.backdropRef}\r\n          onClick={this.handleBackClose}\r\n        >\r\n          <div className={style.Modal}>\r\n            <img src={src} alt={alt} />\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\n// import PropTypes from 'prop-types'\nimport style from \"./styles.module.css\";\nimport Searchbar from \"../searchbar/Searchbar\";\nimport ImageGallery from \"../imageGallery/ImageGallery\";\nimport Loader from \"react-loader-spinner\";\nimport Button from \"../button/Button\";\nimport Modal from \"../modal/Modal\";\nconst axios = require(\"axios\");\n\nconst mapper = response =>\n  response.data.hits.map(({ id, webformatURL, largeImageURL, tags }) => ({\n    id,\n    webformatURL,\n    largeImageURL,\n    tags\n  }));\nconst NEXT_PAGE_STEP = 1;\n\nexport default class App extends Component {\n  state = {\n    pictures: [],\n    search: \"\",\n    modalWindowPicture: \"\",\n    page: 1,\n    isLoading: false\n  };\n  request = () =>\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${this.state.search}&page=${this.state.page}&key=15549591-2394f2db85990f2bc7f8f7198&image_type=photo&orientation=horizontal&per_page=12`\n      )\n      .then(response =>\n        this.setState(state => ({\n          pictures: [...state.pictures, ...mapper(response)]\n        }))\n      )\n      .catch(console.log)\n      .finally(() => this.setState({ isLoading: false }));\n\n  handleClose = () => {\n    this.setState({ modalWindowPicture: \"\" });\n  };\n  openModalWindow = ev => {\n    const { src, alt } = ev.target;\n\n    src && this.setState({ modalWindowPicture: [src, alt] });\n  };\n  handleNextPictures = () => {\n    this.state.search.length !== 0 &&\n      this.setState(state => ({\n        page: state.page + NEXT_PAGE_STEP\n      }));\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.search !== this.state.search ||\n      prevState.page !== this.state.page\n    ) {\n      this.setState({ isLoading: true });\n      this.request();\n    }\n  }\n  componentDidMount() {}\n  handleSubmit = ev => {\n    ev.target.value !== this.state.search &&\n      this.setState({\n        search: ev.target.value,\n        pictures: [],\n        modalWindowPicture: [],\n        page: 1,\n        isLoading: false\n      });\n  };\n  render() {\n    return (\n      <div className={style.App}>\n        <Searchbar onSubmit={this.handleSubmit}></Searchbar>\n        {this.state.pictures.length !== 0 && (\n          <ImageGallery\n            picturesList={this.state.pictures}\n            modalView={this.openModalWindow}\n          ></ImageGallery>\n        )}\n        {this.state.isLoading ? (\n          <Loader\n            className={style.loaderStyles}\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          ></Loader>\n        ) : (\n          this.state.pictures.length !== 0 && (\n            <Button onNextPictures={this.handleNextPictures}></Button>\n          )\n        )}\n        <Modal\n          onClose={this.handleClose}\n          picture={this.state.modalWindowPicture}\n        ></Modal>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/app/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"styles_Searchbar__NCjS5\",\"SearchForm\":\"styles_SearchForm__3Wvy0\",\"SearchForm_button\":\"styles_SearchForm_button__3kl7V\",\"SearchForm_button-label\":\"styles_SearchForm_button-label__mQuqT\",\"SearchForm_input\":\"styles_SearchForm_input__3QLFq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__ecjGQ\",\"loaderStyles\":\"styles_loaderStyles__2B9aw\"};"],"sourceRoot":""}